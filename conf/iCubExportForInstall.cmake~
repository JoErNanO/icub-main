
#### prepare config file for installation
set(EXPORT_CONFIG_FILE icub-export-install.cmake)
set(INSTALL_CONFIG_FILE icub-config-for-install.cmake)
set(INSTALL_CONFIG_TEMPLATE "conf/template/icub-config-install.cmake.in")

set(ICUB_INCLUDE_DIRS ${CMAKE_INSTALL_PREFIX}/include)

install(EXPORT icub-targets DESTINATION ./ FILE ${EXPORT_CONFIG_FILE})
CONFIGURE_FILE(${CMAKE_SOURCE_DIR}/${INSTALL_CONFIG_TEMPLATE}
  ${CMAKE_BINARY_DIR}/${INSTALL_CONFIG_FILE} @ONLY IMMEDIATE)

install(FILES ${CMAKE_BINARY_DIR}/${INSTALL_CONFIG_FILE} DESTINATION ./ RENAME icub-config.cmake)
